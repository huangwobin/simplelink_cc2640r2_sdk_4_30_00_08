<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.ico" >
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CC26xx Driver Library: [setup.h] Setup</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ti_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr>
  <td style="padding-left: 0.5em;">
   <div id="projectname">CC26xx Driver Library
   </div>
  </td>
  <td id="projectlogo"><a href="http://www.ti.com"><img align="right" alt="Logo" src="ti_logo_header.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>APIs</span></a></li>
      <li><a href="usergroup0.html"><span>Register&#160;Descriptions</span></a></li>
      <li><a href="usergroup1.html"><span>Online&#160;Resources</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__setup__api.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">[setup.h] Setup<div class="ingroups"><a class="el" href="group__system__control__group.html">System Control</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3ca82b82ffa386543c8d3da2f06eda3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__setup__api.html#ga3ca82b82ffa386543c8d3da2f06eda3b">SetupTrimDevice</a> (void)</td></tr>
<tr class="memdesc:ga3ca82b82ffa386543c8d3da2f06eda3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the necessary trim of the device which is not done in ROM boot code.  <a href="#ga3ca82b82ffa386543c8d3da2f06eda3b">More...</a><br /></td></tr>
<tr class="separator:ga3ca82b82ffa386543c8d3da2f06eda3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module contains functions for device setup which is not done in boot code. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga3ca82b82ffa386543c8d3da2f06eda3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetupTrimDevice </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs the necessary trim of the device which is not done in ROM boot code. </p>
<p>This function should only execute coming from ROM boot.</p>
<p>The following is handled by this function:</p><ul>
<li>Checks if the driverlib variant used by the application is supported by the device. Execution is halted in case of unsupported driverlib variant.</li>
<li>Configures VIMS cache mode based on setting in CCFG.</li>
<li>Configures functionalities like DCDC and XOSC dependent on startup modes like cold reset, wakeup from shutdown and wakeup from from powerdown.</li>
<li>Configures VIMS power domain control.</li>
<li>Configures optimal wait time for flash FSM in cases where flash pump wakes up from sleep.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The current implementation does not take soft reset into account. However, it does no damage to execute it again. It only consumes time.</dd>
<dd>
This function is called by the compiler specific device startup codes that are integrated in the SimpleLink SDKs for CC13xx/CC26XX devices.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<div class="fragment"><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    uint32_t ui32Fcfg1Revision;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    uint32_t ui32AonSysResetctl;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// Get layout revision of the factory configuration area</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// (Handle undefined revision as revision = 0)</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    ui32Fcfg1Revision = HWREG(<a href=../register_descriptions/CPU_MMAP/FCFG1.html target="_blank">FCFG1_BASE</a> + <a href=../register_descriptions/CPU_MMAP/FCFG1.html#FCFG1_REVISION target="_blank">FCFG1_O_FCFG1_REVISION</a>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">if</span> ( ui32Fcfg1Revision == 0xFFFFFFFF ) {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        ui32Fcfg1Revision = 0;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// This driverlib version and setup file is for CC26x0R2 chips.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// Halt if violated</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="group___chip_info.html#gab45469fe926db3d7cc20688c18dec3e2">ThisLibraryIsFor_CC26x0R2_HaltIfViolated</a>();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// Enable standby in flash bank</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    HWREGBITW( <a href=../register_descriptions/CPU_MMAP/FLASH.html target="_blank">FLASH_BASE</a> + <a href=../register_descriptions/CPU_MMAP/FLASH.html#CFG target="_blank">FLASH_O_CFG</a>, <a href=../register_descriptions/CPU_MMAP/FLASH.html#CFG_DIS_STANDBY target="_blank">FLASH_CFG_DIS_STANDBY_BITN</a> ) = 0;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// Clock must always be enabled for the semaphore module (due to ADI/DDI HW workaround)</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    HWREG( <a href=../register_descriptions/CPU_MMAP/AUX_WUC.html target="_blank">AUX_WUC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AUX_WUC.html#MODCLKEN1 target="_blank">AUX_WUC_O_MODCLKEN1</a> ) = <a href=../register_descriptions/CPU_MMAP/AUX_WUC.html#MODCLKEN1_SMPH target="_blank">AUX_WUC_MODCLKEN1_SMPH</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// Warm resets on CC13x0 and CC26x0 complicates software design because much of</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// our software expect that initialization is done from a full system reset.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">// This includes RTC setup, oscillator configuration and AUX setup.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// To ensure a full reset of the device is done when customers get e.g. a Watchdog</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// reset, the following is set here:</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    HWREGBITW( <a href=../register_descriptions/CPU_MMAP/PRCM.html target="_blank">PRCM_BASE</a> + <a href=../register_descriptions/CPU_MMAP/PRCM.html#WARMRESET target="_blank">PRCM_O_WARMRESET</a>, <a href=../register_descriptions/CPU_MMAP/PRCM.html#WARMRESET_WR_TO_PINRESET target="_blank">PRCM_WARMRESET_WR_TO_PINRESET_BITN</a> ) = 1;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// Select correct CACHE mode and set correct CACHE configuration</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#if ( <a href=../register_descriptions/CPU_MMAP/CCFG.html target="_blank">CCFG_BASE</a> == CCFG_BASE_DEFAULT )</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="group__setup__rom__api.html#gafca6ca5582d6a40f0ea0ca00b8b42dc0">SetupSetCacheModeAccordingToCcfgSetting</a>();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    NOROM_SetupSetCacheModeAccordingToCcfgSetting();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// 1. Check for powerdown</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">// 2. Check for shutdown</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">// 3. Assume cold reset if none of the above.</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// It is always assumed that the application will freeze the latches in</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// AON_IOC when going to powerdown in order to retain the values on the IOs.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// NB. If this bit is not cleared before proceeding to powerdown, the IOs</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">//     will all default to the reset configuration when restarting.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">if</span>( ! ( HWREGBITW( <a href=../register_descriptions/CPU_MMAP/AON_IOC.html target="_blank">AON_IOC_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_IOC.html#IOCLATCH target="_blank">AON_IOC_O_IOCLATCH</a>, <a href=../register_descriptions/CPU_MMAP/AON_IOC.html#IOCLATCH_EN target="_blank">AON_IOC_IOCLATCH_EN_BITN</a> )))</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="comment">// NB. This should be calling a ROM implementation of required trim and</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="comment">// compensation</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="comment">// e.g. TrimAfterColdResetWakeupFromShutDownWakeupFromPowerDown()</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <a class="code" href="setup_8c.html#aa974c0d5d63e4449709001c49d8b0092">TrimAfterColdResetWakeupFromShutDownWakeupFromPowerDown</a>();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// Check for shutdown</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">// When device is going to shutdown the hardware will automatically clear</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// the SLEEPDIS bit in the SLEEP register in the AON_SYSCTL module.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">// It is left for the application to assert this bit when waking back up,</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// but not before the desired IO configuration has been re-established.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ! ( HWREGBITW( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#SLEEPCTL target="_blank">AON_SYSCTL_O_SLEEPCTL</a>, <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#SLEEPCTL_IO_PAD_SLEEP_DIS target="_blank">AON_SYSCTL_SLEEPCTL_IO_PAD_SLEEP_DIS_BITN</a> )))</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="comment">// NB. This should be calling a ROM implementation of required trim and</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="comment">// compensation</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="comment">// e.g. TrimAfterColdResetWakeupFromShutDown()    --&gt;</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="comment">//      TrimAfterColdResetWakeupFromShutDownWakeupFromPowerDown();</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <a class="code" href="setup_8c.html#a34443a6583fcada1e53ff27f3d90894f">TrimAfterColdResetWakeupFromShutDown</a>(ui32Fcfg1Revision);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="setup_8c.html#aa974c0d5d63e4449709001c49d8b0092">TrimAfterColdResetWakeupFromShutDownWakeupFromPowerDown</a>();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="comment">// Consider adding a check for soft reset to allow debugging to skip</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="comment">// this section!!!</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="comment">// NB. This should be calling a ROM implementation of required trim and</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="comment">// compensation</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="comment">// e.g. TrimAfterColdReset()   --&gt;</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="comment">//      TrimAfterColdResetWakeupFromShutDown()    --&gt;</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="comment">//      TrimAfterColdResetWakeupFromShutDownWakeupFromPowerDown()</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="setup_8c.html#aa816ca3e00103fac22229991907c75ac">TrimAfterColdReset</a>();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="setup_8c.html#a34443a6583fcada1e53ff27f3d90894f">TrimAfterColdResetWakeupFromShutDown</a>(ui32Fcfg1Revision);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="setup_8c.html#aa974c0d5d63e4449709001c49d8b0092">TrimAfterColdResetWakeupFromShutDownWakeupFromPowerDown</a>();</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// Set VIMS power domain control.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// PDCTL1VIMS = 0 ==&gt; VIMS power domain is only powered when CPU power domain is powered</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    HWREG( <a href=../register_descriptions/CPU_MMAP/PRCM.html target="_blank">PRCM_BASE</a> + <a href=../register_descriptions/CPU_MMAP/PRCM.html#PDCTL1VIMS target="_blank">PRCM_O_PDCTL1VIMS</a> ) = 0;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// Configure optimal wait time for flash FSM in cases where flash pump</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="comment">// wakes up from sleep</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    HWREG(<a href=../register_descriptions/CPU_MMAP/FLASH.html target="_blank">FLASH_BASE</a> + <a href=../register_descriptions/CPU_MMAP/FLASH.html#FPAC1 target="_blank">FLASH_O_FPAC1</a>) = (HWREG(<a href=../register_descriptions/CPU_MMAP/FLASH.html target="_blank">FLASH_BASE</a> + <a href=../register_descriptions/CPU_MMAP/FLASH.html#FPAC1 target="_blank">FLASH_O_FPAC1</a>) &amp;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                                         ~<a href=../register_descriptions/CPU_MMAP/FLASH.html#FPAC1_PSLEEPTDIS target="_blank">FLASH_FPAC1_PSLEEPTDIS_M</a>) |</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                        (0x139&lt;&lt;<a href=../register_descriptions/CPU_MMAP/FLASH.html#FPAC1_PSLEEPTDIS target="_blank">FLASH_FPAC1_PSLEEPTDIS_S</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// And finally at the end of the flash boot process:</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// SET BOOT_DET bits in AON_SYSCTL to 3 if already found to be 1</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// Note: The BOOT_DET_x_CLR/SET bits must be manually cleared</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span> ((( HWREG( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL target="_blank">AON_SYSCTL_O_RESETCTL</a> ) &amp;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        ( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_BOOT_DET_1 target="_blank">AON_SYSCTL_RESETCTL_BOOT_DET_1_M</a> | <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_BOOT_DET_0 target="_blank">AON_SYSCTL_RESETCTL_BOOT_DET_0_M</a> )) &gt;&gt;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_BOOT_DET_0 target="_blank">AON_SYSCTL_RESETCTL_BOOT_DET_0_S</a> ) == 1 )</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        ui32AonSysResetctl = ( HWREG( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL target="_blank">AON_SYSCTL_O_RESETCTL</a> ) &amp;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        ~( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_BOOT_DET_1_CLR target="_blank">AON_SYSCTL_RESETCTL_BOOT_DET_1_CLR_M</a> | <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_BOOT_DET_0_CLR target="_blank">AON_SYSCTL_RESETCTL_BOOT_DET_0_CLR_M</a> |</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;           <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_BOOT_DET_1_SET target="_blank">AON_SYSCTL_RESETCTL_BOOT_DET_1_SET_M</a> | <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_BOOT_DET_0_SET target="_blank">AON_SYSCTL_RESETCTL_BOOT_DET_0_SET_M</a> ));</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        HWREG( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL target="_blank">AON_SYSCTL_O_RESETCTL</a> ) = ui32AonSysResetctl | <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL_BOOT_DET_1_SET target="_blank">AON_SYSCTL_RESETCTL_BOOT_DET_1_SET_M</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        HWREG( <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html target="_blank">AON_SYSCTL_BASE</a> + <a href=../register_descriptions/CPU_MMAP/AON_SYSCTL.html#RESETCTL target="_blank">AON_SYSCTL_O_RESETCTL</a> ) = ui32AonSysResetctl;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// Make sure there are no ongoing VIMS mode change when leaving SetupTrimDevice()</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// (There should typically be no wait time here, but need to be sure)</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">while</span> ( HWREGBITW( <a href=../register_descriptions/CPU_MMAP/VIMS.html target="_blank">VIMS_BASE</a> + <a href=../register_descriptions/CPU_MMAP/VIMS.html#STAT target="_blank">VIMS_O_STAT</a>, <a href=../register_descriptions/CPU_MMAP/VIMS.html#STAT_MODE_CHANGING target="_blank">VIMS_STAT_MODE_CHANGING_BITN</a> )) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="comment">// Do nothing - wait for an eventual ongoing mode change to complete.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="ttc" id="group___chip_info_html_gab45469fe926db3d7cc20688c18dec3e2"><div class="ttname"><a href="group___chip_info.html#gab45469fe926db3d7cc20688c18dec3e2">ThisLibraryIsFor_CC26x0R2_HaltIfViolated</a></div><div class="ttdeci">void ThisLibraryIsFor_CC26x0R2_HaltIfViolated(void)</div><div class="ttdoc">Verifies that current chip is CC26x0R2 and never returns if violated. </div><div class="ttdef"><b>Definition:</b> chipinfo.c:169</div></div>
<div class="ttc" id="setup_8c_html_aa974c0d5d63e4449709001c49d8b0092"><div class="ttname"><a href="setup_8c.html#aa974c0d5d63e4449709001c49d8b0092">TrimAfterColdResetWakeupFromShutDownWakeupFromPowerDown</a></div><div class="ttdeci">static void TrimAfterColdResetWakeupFromShutDownWakeupFromPowerDown(void)</div><div class="ttdoc">Trims to be applied when coming from POWER_DOWN (also called when coming from SHUTDOWN and PIN_RESET)...</div><div class="ttdef"><b>Definition:</b> setup.c:229</div></div>
<div class="ttc" id="setup_8c_html_a34443a6583fcada1e53ff27f3d90894f"><div class="ttname"><a href="setup_8c.html#a34443a6583fcada1e53ff27f3d90894f">TrimAfterColdResetWakeupFromShutDown</a></div><div class="ttdeci">static void TrimAfterColdResetWakeupFromShutDown(uint32_t ui32Fcfg1Revision)</div><div class="ttdoc">Trims to be applied when coming from SHUTDOWN (also called when coming from PIN_RESET). </div><div class="ttdef"><b>Definition:</b> setup.c:245</div></div>
<div class="ttc" id="group__setup__rom__api_html_gafca6ca5582d6a40f0ea0ca00b8b42dc0"><div class="ttname"><a href="group__setup__rom__api.html#gafca6ca5582d6a40f0ea0ca00b8b42dc0">SetupSetCacheModeAccordingToCcfgSetting</a></div><div class="ttdeci">void SetupSetCacheModeAccordingToCcfgSetting(void)</div><div class="ttdoc">Set correct VIMS_MODE according to CCFG setting (CACHE or GPRAM) </div><div class="ttdef"><b>Definition:</b> setup_rom.c:837</div></div>
<div class="ttc" id="setup_8c_html_aa816ca3e00103fac22229991907c75ac"><div class="ttname"><a href="setup_8c.html#aa816ca3e00103fac22229991907c75ac">TrimAfterColdReset</a></div><div class="ttdeci">static void TrimAfterColdReset(void)</div><div class="ttdoc">Trims to be applied when coming from PIN_RESET. </div><div class="ttdef"><b>Definition:</b> setup.c:320</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__setup__api_ga3ca82b82ffa386543c8d3da2f06eda3b_cgraph.png" border="0" usemap="#group__setup__api_ga3ca82b82ffa386543c8d3da2f06eda3b_cgraph" alt=""/></div>
<map name="group__setup__api_ga3ca82b82ffa386543c8d3da2f06eda3b_cgraph" id="group__setup__api_ga3ca82b82ffa386543c8d3da2f06eda3b_cgraph">
<area shape="rect" id="node2" href="group___chip_info.html#gab45469fe926db3d7cc20688c18dec3e2" title="Verifies that current chip is CC26x0R2 and never returns if violated. " alt="" coords="209,490,392,531"/>
<area shape="rect" id="node6" href="group__setup__rom__api.html#gafca6ca5582d6a40f0ea0ca00b8b42dc0" title="Set correct VIMS_MODE according to CCFG setting (CACHE or GPRAM) " alt="" coords="199,581,402,622"/>
<area shape="rect" id="node7" href="setup_8c.html#aa974c0d5d63e4449709001c49d8b0092" title="Trims to be applied when coming from POWER_DOWN (also called when coming from SHUTDOWN and PIN_RESET)..." alt="" coords="172,646,429,687"/>
<area shape="rect" id="node8" href="setup_8c.html#a34443a6583fcada1e53ff27f3d90894f" title="Trims to be applied when coming from SHUTDOWN (also called when coming from PIN_RESET). " alt="" coords="209,711,392,753"/>
<area shape="rect" id="node41" href="setup_8c.html#aa816ca3e00103fac22229991907c75ac" title="Trims to be applied when coming from PIN_RESET. " alt="" coords="233,777,368,804"/>
<area shape="rect" id="node3" href="group___chip_info.html#gace284a01dd5874c55dcd636982eb0cb3" title="Returns true if this chip is member of the CC26x0R2 family. " alt="" coords="497,438,648,479"/>
<area shape="rect" id="node4" href="group___chip_info.html#gaca76b9c316d9123a5b337fa715811ccc" title="Returns chip family member. " alt="" coords="739,228,901,255"/>
<area shape="rect" id="node5" href="group___chip_info.html#ga5becf5c53f75421ba924094c8e7e8411" title="Returns the internal chip HW revision code. " alt="" coords="978,5,1191,32"/>
<area shape="rect" id="node9" href="group__aonwuc__api.html#ga410ff6945e9cdf43d1cf722c05a44724" title="Request power off of the JTAG domain. " alt="" coords="494,799,651,825"/>
<area shape="rect" id="node10" href="group__setup__rom__api.html#gaf99b067df7c234b643bb4155f6a9013c" title="First part of configuration required after cold reset and when waking up from shutdown. " alt="" coords="477,875,668,917"/>
<area shape="rect" id="node12" href="group__setup__rom__api.html#gae310745812e76c0c4f1040e2a806ddef" title="Second part of configuration required after cold reset and when waking up from shutdown. " alt="" coords="725,479,915,521"/>
<area shape="rect" id="node31" href="group__setup__rom__api.html#ga8145bf9a87ccdba3bfc95e83046e1db5" title="Third part of configuration required after cold reset and when waking up from shutdown. " alt="" coords="477,682,668,723"/>
<area shape="rect" id="node40" href="group__auxwuc__api.html#ga39271f2108f39cf60c48dbab14533f41" title="Control the power to the AUX domain. " alt="" coords="505,748,640,775"/>
<area shape="rect" id="node11" href="group__setup__rom__api.html#ga509c195facb2a327009856633b2f4e36" title="Sign extend the VDDR_TRIM setting (special format ranging from &#45;10 to +21) " alt="" coords="716,908,924,935"/>
<area shape="rect" id="node13" href="group__setup__rom__api.html#ga0425895c98068d0bec7a7e51e120e051" title="Returns the trim value to be used for the ANABYPASS_VALUE1 register in OSC_DIG. " alt="" coords="991,393,1178,434"/>
<area shape="rect" id="node14" href="group__ddi__api.html#ga13a6c30b833a20556c48429303b64caf" title="Write a 32 bit value to a register in the DDI slave. " alt="" coords="1029,777,1140,804"/>
<area shape="rect" id="node18" href="group__setup__rom__api.html#gab7e662b0636c52fb579f99a0975ca31e" title="Returns the trim value to be used for the RCOSCLF_RTUNE_TRIM and the RCOSCLF_CTUNE_TRIM bit fields in..." alt="" coords="982,458,1187,499"/>
<area shape="rect" id="node19" href="group__ddi__api.html#ga492326c095c70621a247fe02a2cb09e4" title="Write a bit field via the DDI using 16&#45;bit maskable write. " alt="" coords="1021,828,1148,855"/>
<area shape="rect" id="node20" href="group__setup__rom__api.html#ga1c085c2022c7bd244610356eeb6d19fa" title="Returns the trim value to be used for the XOSC_HF_IBIASTHERM bit field in the ANABYPASS_VALUE2 regist..." alt="" coords="974,524,1195,551"/>
<area shape="rect" id="node21" href="group__setup__rom__api.html#ga64cb9a869265f45d2522f49fd85f9b35" title="Returns the trim value to be used for the AMPCOMP_TH2 register in OSC_DIG. " alt="" coords="984,575,1185,601"/>
<area shape="rect" id="node22" href="group__setup__rom__api.html#ga2240d5e01687ada6f0e6b9d79b43ada9" title="Returns the trim value to be used for the AMPCOMP_TH1 register in OSC_DIG. " alt="" coords="984,625,1185,652"/>
<area shape="rect" id="node23" href="group__setup__rom__api.html#gae65586d4e81aee129b4b8c7c7337daec" title="Returns the trim value to be used for the AMPCOMP_CTRL register in OSC_DIG. " alt="" coords="985,676,1185,703"/>
<area shape="rect" id="node24" href="group__setup__rom__api.html#ga62e29b18ad94157b1256817d2ec6775c" title="Returns the trim value from FCFG1 to be used as ADC_SH_MODE_EN setting. " alt="" coords="981,727,1189,753"/>
<area shape="rect" id="node25" href="group__setup__rom__api.html#ga1c3f66931d7685de12ecca7c00b1fb65" title="Returns the trim value from FCFG1 to be used as ADC_SH_VBUF_EN setting. " alt="" coords="983,56,1186,83"/>
<area shape="rect" id="node26" href="group__setup__rom__api.html#gac23b7884647939b72b8b66f85eed9516" title="Returns the trim value to be used for the XOSCHFCTL register in OSC_DIG. " alt="" coords="996,107,1173,133"/>
<area shape="rect" id="node27" href="group__setup__rom__api.html#gae37113a79a80f2ec89b01b3742fe5b6f" title="Returns the trim value from FCFG1 to be used as DBLR_LOOP_FILTER_RESET_VOLTAGE setting. " alt="" coords="984,158,1185,199"/>
<area shape="rect" id="node28" href="group__setup__rom__api.html#gae75f921f0e698719c86f4c4a5ef80339" title="Returns the FCFG1 OSC_CONF_ATESTLF_RCOSCLF_IBIAS_TRIM. " alt="" coords="972,224,1197,251"/>
<area shape="rect" id="node29" href="group__setup__rom__api.html#ga078626e0d8c7e97172ee007c077f74ff" title="Returns XOSCLF_REGULATOR_TRIM and XOSCLF_CMIRRWR_RATIO as one packet spanning bits [5:0] in the retur..." alt="" coords="977,275,1192,317"/>
<area shape="rect" id="node30" href="group__setup__rom__api.html#ga1844ae67ae38faf3915634afe62798b0" title="Returns the trim value to be used for the RADCEXTCFG register in OSC_DIG. " alt="" coords="989,341,1180,368"/>
<area shape="rect" id="node15" href="group__ddi__api.html#ga06d6b1eee2c8757b8431eb6e1ab98f68" title="Safely write to AUX ADI/DDI interfaces using a semaphore. " alt="" coords="1245,828,1385,855"/>
<area shape="rect" id="node16" href="group__cpu__api.html#ga491d851c4f7fff1f9f66aa778b0671b0" title="Disable all external interrupts. " alt="" coords="1433,828,1513,855"/>
<area shape="rect" id="node17" href="group__cpu__api.html#ga6922d401cbc951632f495ffcf2e71dfc" title="Enable all external interrupts. " alt="" coords="1433,879,1513,905"/>
<area shape="rect" id="node32" href="group__setup__rom__api.html#gad0930e41df4aeae3f101853d38d28eaa" title="Returns the trim value to be used as OSC_DIG:CTL1.XOSC_HF_FAST_START. " alt="" coords="727,791,913,833"/>
<area shape="rect" id="node33" href="group__osc__api.html#ga37a02687fbd8680396550f682a7f046f" title="Configure the oscillator input to the a source clock. " alt="" coords="748,588,892,615"/>
<area shape="rect" id="node34" href="group__setup__rom__api.html#gaaee7ab99f1f8e288786f0f98b0030ac8" title="Doing the tricky stuff needed to enter new RTCSUBSECINC value. " alt="" coords="729,639,911,665"/>
<area shape="rect" id="node35" href="group__osc__api.html#ga279bd3a34548bd4c5e2fc6939f7be228" title="Get the source clock settings. " alt="" coords="747,857,893,884"/>
<area shape="rect" id="node38" href="group__ioc__api.html#gaa37e353181d0457f3b56ddd541c6eb0a" title="Set the configuration of an IO port. " alt="" coords="749,689,891,716"/>
<area shape="rect" id="node39" href="group__sysctrl__api.html#ga1d9c005051b674f9f254747c1705e3dc" title="Sync all accesses to the AON register interface. " alt="" coords="761,740,879,767"/>
<area shape="rect" id="node36" href="group__ddi__api.html#gac86ccf0590b9dbdc88eb1a6c856c78a4" title="Read a bit field via the DDI using 16&#45;bit read. " alt="" coords="1021,879,1148,905"/>
<area shape="rect" id="node37" href="group__ddi__api.html#ga8175a094afd96e5f440a276c4cc7fe44" title="Safely read from AUX ADI/DDI interfaces using a semaphore. " alt="" coords="1246,879,1385,905"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">&copy Copyright 2015 - 2020 Texas Instruments Incorporated. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
