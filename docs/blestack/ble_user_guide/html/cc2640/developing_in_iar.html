

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Developing with IAR &mdash; 
SimpleLink™ CC2640R2 SDK
User&#39;s Guide for BLE-Stack 3.x.x
 3.03.05.00 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Opening, Configuring and Building Projects" href="ble-build.html" />
    <link rel="prev" title="Developing with CCS" href="developing_in_ccs.html" />
    <script language="JavaScript">
        var tiPageName;
        tiPageName = "sug cc2640 developing_in_iar";

        if (location.protocol == "file:"){
            var ci_analytics_poc_load = true;
        }
    </script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>


</head>

<body class="wy-body-for-nav">
   <!---- extra body elements for TI beyond RTD Sphinx Theme --->
<div class="DocSite-globalNav tiNav">
    <ul>
    </ul>
</div>

<a class="DocSite-nav" href="https://www.ti.com" style="padding-bottom: 85px;">
  <img class="DocSiteNav-logo"
    src="../_static/img/ti_logo.png"
    alt="TI Logo">
  <div class="DocSiteNav-title"></div>
</a> 
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../ble-stack-3.x-guide/index.html" class="icon icon-home" alt="Documentation Home"> 
SimpleLink™ CC2640R2 SDK
User's Guide for BLE-Stack 3.x.x

          

          
          </a>

          
            
            
              <div class="version">
                3.03.05.00
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/disclaimer.html">Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/get-started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../ble-stack-3.x-guide/platform.html">The CC2640R2 SDK Platform</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="hardware_architecture.html">Hardware Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="ble-software-architecture.html">Software Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="developing_in_ccs.html">Developing with CCS</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Developing with IAR</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-iar">Installing IAR</a></li>
<li class="toctree-l3"><a class="reference internal" href="#importing-ti-drivers-iar-projects">Importing TI Drivers IAR Projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="#accessing-preprocessor-symbols">Accessing Preprocessor Symbols</a></li>
<li class="toctree-l3"><a class="reference internal" href="#accessing-linker-symbols">Accessing Linker Symbols</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resetting-the-device-in-iar">Resetting the CC2640R2 in IAR</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ble-build.html">Opening, Configuring and Building Projects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/tirtos-index.html">TI-RTOS (RTOS Kernel) Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/ble-stack-3-index.html">Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/ble-stack-3-index.html#ble-stack">BLE-Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/ble-stack-3-index.html#developing-a-custom-application">Developing a Custom Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/ble-stack-3-index.html#ble-network-processor">BLE Network Processor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/ble-stack-3-index.html#running-the-sdk-on-custom-hardware">Running the SDK on Custom Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/u-stack-index.html">Micro BLE Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-common/npi-index.html">Network Processor Interface (NPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/index-oad-cc2640.html">Over-the-Air Download (OAD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../voice/voice.html">Creating a Voice Enabled Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/secure-fw-index.html">Secure Firmware (SFW)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensor-controller/sensor-controller.html">Sensor Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/debugging-index.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/migration.html">Migration Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/api-reference.html">API References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ble-stack-3.x-guide/reference.html">Terms and Definitions</a></li>
</ul>

            
          
          <!-- extra nav elements for TI beyond RTD Sphinx Theme --->
<div id="sideBanner">
    <br/>
    <br/><br/><br/>
</div>
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../ble-stack-3.x-guide/index.html">
SimpleLink™ CC2640R2 SDK
User's Guide for BLE-Stack 3.x.x
</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../ble-stack-3.x-guide/index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../ble-stack-3.x-guide/platform.html">The CC2640R2 SDK Platform</a> &raquo;</li>
        
      <li>Developing with IAR</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="developing-with-iar">
<span id="sec-developing-with-iar"></span><h1>Developing with IAR<a class="headerlink" href="#developing-with-iar" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installing-iar">
<h2>Installing IAR<a class="headerlink" href="#installing-iar" title="Permalink to this headline">¶</a></h2>
<p>The IAR toolchain contains many features beyond the scope of this document.
More information and documentation can be found at <a class="reference external" href="www.iar.com">IAR.com</a>.</p>
<p>Check the BLE-Stack 3.03.05.00 release notes to see which IAR version to use and any
required workarounds. Object code produced by IAR may differ in size and
performance as compared to CCS produced object code.</p>
<p>The following procedure describes installing and configuring the correct version
of IAR and the necessary tools.</p>
<ol class="arabic">
<li><p class="first">Install IAR Embedded Workbench for Arm</p>
<blockquote>
<div><p><a class="reference external" href="https://www.iar.com/iar-embedded-workbench/partners/texas-instruments/ti-wireless/">Download and install IAR EW ARM</a></p>
<p>To get IAR, choose one of the following methods:</p>
<blockquote>
<div><ul class="simple">
<li>Download the IAR Embedded Workbench 30-Day Evaluation Edition –
This version of IAR is free, has full functionality, and
includes all of the standard features. The size-limited
Kickstart evaluation option is not compatible with this SDK.</li>
<li>Purchase the full-featured version of IAR Embedded Workbench – For
complete BLE application development using the CC2640R2, TI
recommends purchasing the complete version of IAR without any
restrictions. You can find the information on purchasing the complete
version of <a class="reference external" href="https://www.iar.com/buy">IAR</a>.</li>
</ul>
</div></blockquote>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">The version required is stated in the release notes.
Opening IAR project files with a previous version of IAR may cause
project file corruption.</p>
</div>
</div></blockquote>
</li>
<li><p class="first">Show Build Messages</p>
<blockquote>
<div><p>TI recommends showing all the build output messages for full verbosity
during building. To do this, go to <strong>Tools</strong> -&gt; <strong>Options</strong> and set
<strong>Show Build Messages</strong> to <strong>All</strong>
(see <a class="reference internal" href="#fig-show-all-build-messages"><span class="std std-numref">Figure 17.</span></a>)</p>
<div class="figure align-center" id="id3">
<span id="fig-show-all-build-messages"></span><img alt="../_images/image15.png" src="../_images/image15.png" />
<p class="caption"><span class="caption-number">Figure 17. </span><span class="caption-text">Show All Build Messages in IAR</span></p>
</div>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="importing-ti-drivers-iar-projects">
<span id="sec-importing-tidrivers-iar-projects"></span><h2>Importing TI Drivers IAR Projects<a class="headerlink" href="#importing-ti-drivers-iar-projects" title="Permalink to this headline">¶</a></h2>
<p>IAR projects for <code class="docutils literal notranslate"><span class="pre">TI</span> <span class="pre">Drivers</span></code> must be imported rather than opened. All TI
Drivers project are created from the original sources in
<code class="docutils literal notranslate"><span class="pre">&lt;SDK_INSTALL_DIR&gt;/source/ti/drivers</span></code>. Because of this
difference, you <strong>must not</strong> open <code class="docutils literal notranslate"><span class="pre">TI</span> <span class="pre">Drivers</span></code> .eww IAR projects directly from
within the SDK.</p>
<p>Here are the steps on how to import a <cite>TI Drivers</cite> project.</p>
<div class="admonition error">
<p class="first admonition-title">Error</p>
<p><strong>Do NOT try to open the .eww projects in</strong>
<code class="docutils literal notranslate"><span class="pre">&lt;SDK_INSTALL_DIR&gt;/source/ti/drivers</span></code> <strong>directly in IAR!</strong></p>
<p class="last">Doing so will cause IAR to generate project files directly in the example you
opened. The result of this is a project that does not open the correct source
files and if you try to import the project afterwards with the import
procedures listed below, not all source files will be imported into the
project!</p>
</div>
<ol class="arabic">
<li><p class="first">Open the version of IAR that is stated in the release notes.</p>
</li>
<li><p class="first">Globally import the .custom_argvars file provided by the <a class="reference external" href="http://www.ti.com/tool/SIMPLELINK-CC2640R2-SDK">SimpleLink CC2640R2 SDK</a>:</p>
<ol class="arabic">
<li><p class="first">Select <strong>Tools</strong> -&gt; <strong>Configure Custom Argument Variables</strong></p>
<div class="figure" id="id4">
<img alt="../_images/iar_global_custom_vars.png" src="../_images/iar_global_custom_vars.png" />
<p class="caption"><span class="caption-number">Figure 18. </span><span class="caption-text">Configuring Custom Argument Variables</span></p>
</div>
</li>
<li><p class="first">Select the <strong>Global Tab</strong> and click on the <strong>Import</strong> button</p>
<div class="figure" id="id5">
<img alt="../_images/iar_global_imports.png" src="../_images/iar_global_imports.png" />
<p class="caption"><span class="caption-number">Figure 19. </span><span class="caption-text">Global Custom Variable Imports</span></p>
</div>
</li>
<li><p class="first">Select <code class="docutils literal notranslate"><span class="pre">&lt;SDK_INSTALL_DIR&gt;/tools/iar/SIMPLELINK_CC13XX_CC26XX_SDK.custom_argvars</span></code></p>
</li>
</ol>
</li>
<li><p class="first">Now you can import <cite>TI Drivers</cite> examples</p>
<ol class="arabic">
<li><p class="first">Open <strong>Help</strong> -&gt; <strong>Information Center</strong>, and click on
<strong>Integrates solutions</strong>.</p>
</li>
<li><p class="first">Go into the Texas Instruments Example projects.</p>
<div class="figure" id="id6">
<img alt="../_images/iar_ti_import_examples.png" src="../_images/iar_ti_import_examples.png" />
<p class="caption"><span class="caption-number">Figure 20. </span><span class="caption-text">Texas Instruments Example projects</span></p>
</div>
</li>
<li><p class="first">Click on <strong>example applications</strong></p>
<div class="figure" id="id7">
<img alt="../_images/iar_ti_list_examples.png" src="../_images/iar_ti_list_examples.png" />
<p class="caption"><span class="caption-number">Figure 21. </span><span class="caption-text">To go to the list of available <code class="docutils literal notranslate"><span class="pre">TI</span> <span class="pre">Drivers</span></code> examples</span></p>
</div>
</li>
<li><p class="first">Click on the <strong>TI-RTOS</strong> link for the <code class="docutils literal notranslate"><span class="pre">TI</span> <span class="pre">Drivers</span></code> example you want
to import.</p>
<div class="figure" id="id8">
<img alt="../_images/iar_ti_import_project.png" src="../_images/iar_ti_import_project.png" />
<p class="caption"><span class="caption-number">Figure 22. </span><span class="caption-text">Select the project you want to import and specify where you want to
save it.</span></p>
</div>
</li>
</ol>
</li>
<li><p class="first">At this stage, you have imported a new <code class="docutils literal notranslate"><span class="pre">TI</span> <span class="pre">Drivers</span></code> project.</p>
</li>
</ol>
</div>
<div class="section" id="accessing-preprocessor-symbols">
<span id="sec-developing-with-iar-accessing-preprocessor-symbols"></span><h2>Accessing Preprocessor Symbols<a class="headerlink" href="#accessing-preprocessor-symbols" title="Permalink to this headline">¶</a></h2>
<p>Various C preprocessor symbols may need to be set or adjusted at the project
level. The following procedure describes how to access and modify preprocessor
symbols.</p>
<ol class="arabic simple">
<li>Open the Project’s <strong>Options</strong> and select the <strong>C/C++ Compiler</strong> Category.</li>
<li>Open the <strong>Preprocessor</strong> tab.</li>
<li>View the <strong>Defined symbols</strong> box (see <a class="reference internal" href="#fig-iar-defines-box"><span class="std std-numref">Figure 23.</span></a>).</li>
<li>Add or edit the preprocessor symbols.</li>
</ol>
<div class="figure align-center" id="id9">
<span id="fig-iar-defines-box"></span><img alt="../_images/image38.jpeg" src="../_images/image38.jpeg" />
<p class="caption"><span class="caption-number">Figure 23. </span><span class="caption-text">IAR Defined Symbols Box</span></p>
</div>
<p>Certain projects also use a list of predefined symbols found in the
<code class="docutils literal notranslate"><span class="pre">Tools</span> <span class="pre">-&gt;</span> <span class="pre">defines</span></code> project folder.</p>
</div>
<div class="section" id="accessing-linker-symbols">
<span id="sec-developing-with-iar-accessing-linker-symbols"></span><h2>Accessing Linker Symbols<a class="headerlink" href="#accessing-linker-symbols" title="Permalink to this headline">¶</a></h2>
<p>Linker symbols may need to be set or adjusted at the project level in order to
control the memory layout of the generated image.
The following procedure describes how to access and modify linker
symbols.</p>
<ol class="arabic simple">
<li>Open the Project’s <strong>Options</strong> and select the <strong>Linker</strong> Category.</li>
<li>Open the <strong>Config</strong> tab.</li>
<li>View the <strong>Configuration File symbol definitions</strong> box (see <a class="reference internal" href="#fig-iar-linker-defines-box"><span class="std std-numref">Figure 24.</span></a>).</li>
<li>Add or edit the preprocessor symbols.</li>
</ol>
<div class="figure align-center" id="id10">
<span id="fig-iar-linker-defines-box"></span><img alt="../_images/iar_linker_opts.png" src="../_images/iar_linker_opts.png" />
<p class="caption"><span class="caption-number">Figure 24. </span><span class="caption-text">IAR Defined Symbols Box</span></p>
</div>
</div>
<div class="section" id="resetting-the-device-in-iar">
<h2>Resetting the CC2640R2 in IAR<a class="headerlink" href="#resetting-the-device-in-iar" title="Permalink to this headline">¶</a></h2>
<p>Select the <em>Board Reset</em> option from the following Reset (back arrow) Debug Menu
drop-down box.</p>
<div class="figure align-center" id="id11">
<a class="reference internal image-reference" href="../_images/image182.jpeg"><img alt="../_images/image182.jpeg" src="../_images/image182.jpeg" style="width: 300px;" /></a>
<p class="caption"><span class="caption-number">Figure 25. </span><span class="caption-text">IAR Board Reset</span></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ble-build.html" class="btn btn-neutral float-right" title="Opening, Configuring and Building Projects" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="developing_in_ccs.html" class="btn btn-neutral float-left" title="Developing with CCS" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">2010-2020, Texas Instruments</a>, Texas Instruments Incorporated. All rights reserved. <br>
        <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>